<html><head><title>weForth v4.2</title><style>.cmd{color:#48f;margin:2px}.dsp{display:flex;flex-direction:column;height:100%;font-family:monospace;font-size:18px}.txt{width:100%;height:auto;margin:4px;display:flex;flex-direction:column;overflow-x:scroll;display:block}</style></head><body><div class=dsp><pre class=txt id=txt></pre><input id=tib onkeydown="13===event.keyCode&&forth_eval()"style=width:100%;font-size:1em></div><script>const tib=document.getElementById("tib"),txt=document.getElementById("txt");function to_txt(t,e=!0){txt.innerHTML+=e?t+"<br/>":t,txt.scrollTop=txt.scrollHeight}var Module={print:to_txt};const ex=t=>Function(`"use strict"; this.eval(${t})`).bind(this)();function forth_eval(t=!0){const e=()=>{tib.value="",tib.focus()};let o=tib.value;if("clear"==o)return txt.innerHTML="",void e();t&&to_txt('<pre class="cmd"><em>'+o+"</em></pre>",!1);try{for(var n=Module.cwrap("forth","int",["number","string"]);n(0,o););n(0,".s")}catch(t){console.log(t.toString()+"\n")}finally{e()}}this.onmessage=t=>{console.log(t.data),"js"==t.data[0]&&ex(t.data[1][1])},window.onload=()=>setTimeout((()=>{tib.value="mstat",forth_eval(!1)}),1e3)</script><script async src=eforth.js></script></body></html>